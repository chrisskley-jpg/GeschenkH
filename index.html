<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hochzeitsgeschenk ‚Äì Schnitzeljagd von Familie Kley</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet">
  <style>
    :root{
      --text:#f7f2ea; --muted:#efe3d4; --ink:#3f2f25;
      --warm100:#ffedd5; --warm200:#fed7aa; --warm300:#fdba74;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial;
      background:#000; overflow-x:hidden;
    }
    body.lock{overflow:hidden}
    .container{max-width:1100px; margin:0 auto; padding:0 24px}

    .hero{position:relative; height:100svh; height:100vh; min-height:560px; display:grid; place-items:center; overflow:hidden; background:#000; z-index:2}
    .hero .bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:1}
    .hero .overlay{position:absolute; inset:0;
      background:linear-gradient(to bottom, rgba(250,240,224,.92), rgba(234,210,174,.78), rgba(98,72,49,.90));
      mix-blend-mode:multiply; transition:opacity .3s ease;
    }
    .hero .content{position:relative; text-align:center; padding:24px; will-change:transform,opacity}
    .hero h1{font-family:'Marcellus',serif; font-weight:400; font-size:clamp(44px,7.2vw,88px); margin:0; color:#f9efe2; text-shadow:0 4px 18px rgba(0,0,0,.5)}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:12px 18px; border-radius:16px; font-weight:700;
      color:var(--ink); background:var(--warm100); border:1px solid rgba(99,68,38,.18);
      box-shadow:0 10px 24px rgba(0,0,0,.25); transition:transform .15s ease, background .2s ease;
    }
    .btn:hover{transform:scale(1.02); background:var(--warm200)}
    .btn:active{transform:scale(.98)}
    .scroll-ind{position:absolute; bottom:24px; left:50%; transform:translateX(-50%); opacity:.85; animation:bounce 1.2s infinite}
    @keyframes bounce{0%,100%{transform:translate(-50%,0)}50%{transform:translate(-50%,8px)}}

    .spacer{height:60px}

    .parallax-layer{
      position:fixed; inset:-30vh -20vw; z-index:0; display:none;
      background-image:url('images/mountains-warm.jpg'); background-size:cover; background-position:center;
      filter:sepia(.28) saturate(1.2) hue-rotate(-10deg) brightness(1.06) contrast(1.03) blur(5px);
      transform:translateY(0) scale(1.18); transform-origin:center; will-change:transform,filter;
    }

    .card{background:rgba(255,255,255,.07); border:1px solid rgba(255,255,255,.14); border-radius:24px; box-shadow:0 20px 45px rgba(0,0,0,.35); padding:28px}
    .timeline{display:grid; gap:48px; position:relative}
    .timeline li{position:relative; padding-left:24px}
    .timeline li .dot{position:absolute; left:0; top:6px; width:12px; height:12px; border-radius:999px; background:var(--warm300); box-shadow:0 2px 8px rgba(0,0,0,.35)}
    .timeline li .line{position:absolute; left:5px; top:24px; bottom:-32px; width:2px; background:rgba(251,191,36,.45)}
    .section h2{margin:0 0 12px; font-size:clamp(22px,3.5vw,32px)}
    .section img{width:100%; height:260px; object-fit:cover; border-radius:18px; border:1px solid rgba(255,255,255,.12); box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .section img.contain{height:auto; max-height:520px; object-fit:contain; background:rgba(255,255,255,.06)}
    .section p{font-size:clamp(17px,2.6vw,20px); line-height:1.6; color:#f5eee3; min-height:4.5rem; white-space:pre-wrap}
    .fade-up{opacity:0; transform:translateY(8px); transition:opacity .6s ease, transform .6s ease}
    .fade-up.show{opacity:1; transform:translateY(0)}

    .hidden{display:none !important}
    .gate{position:fixed; inset:0; z-index:100; display:flex; align-items:center; justify-content:center; background:#0b0b0b;}
    .gate .box{width:min(92vw,460px); background:#171310; border:1px solid rgba(255,255,255,.18); border-radius:16px; box-shadow:0 30px 60px rgba(0,0,0,.6); padding:22px}
    .gate h2{margin:0 0 10px; font-size:clamp(22px,4.6vw,28px)}
    .gate input{width:100%; padding:14px 16px; border-radius:12px; border:1px solid rgba(255,255,255,.25); background:rgba(0,0,0,.28); color:var(--text); font-size:18px; outline:none}
    .gate .row{display:flex; gap:10px; margin-top:12px}
    .gate button{flex:1; padding:12px 14px; border-radius:12px; border:1px solid rgba(99,68,38,.25); background:var(--warm200); color:#3f2f25; font-weight:800; cursor:pointer}
    .gate .err{color:#fde68a; font-weight:700; margin-top:10px; min-height:1.2em}
  </style>
</head>
<body>
  <div class="parallax-layer" id="parallax"></div>

  <div id="site">
    <section class="hero" id="hero">
      <img class="bg" alt="Nahaufnahme vom Ringwechsel ‚Äì Braut und Br√§utigam halten H√§nde" src="images/hero-hochzeit.jpg"/>
      <div class="overlay" id="heroOverlay"></div>
      <div class="content container" id="heroContent">
        <h1>Alles Liebe zur Hochzeit!</h1>
        <div style="margin-top:20px">
          <button class="btn" id="startBtn" aria-label="Geschenk ansehen">
            Geschenk ansehen
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v8.46l3.15-3.15a1 1 0 111.41 1.42l-4.86 4.86a1 1 0 01-1.41 0L4.43 10.73a1 1 0 111.41-1.42L9 12.46V4a1 1 0 011-1z" clip-rule="evenodd"/></svg>
          </button>
        </div>
        <div class="scroll-ind" aria-hidden="true">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><path d="M12 16.5l-6-6 1.06-1.06L12 14.38l4.94-4.94L18 10.5l-6 6z"/></svg>
        </div>
      </div>
    </section>

    <div class="spacer" aria-hidden="true"></div>

    <main class="container" id="content" style="padding:24px 0 64px">
      <div class="card">
        <ol class="timeline" id="timeline"></ol>
      </div>
    </main>
  </div>

  <div class="gate hidden" id="gate" aria-modal="true" role="dialog" aria-labelledby="gate-title">
    <div class="box">
      <h2 id="gate-title">Zugangscode</h2>
      <input id="codeInput" autocomplete="one-time-code" inputmode="numeric" placeholder="TT.MM.JJJJ" aria-label="Zugangscode">
      <div class="row"><button id="unlockBtn">√ñffnen</button></div>
      <div class="err" id="err"></div>
    </div>
  </div>

<script>
(function(){
  const ACCESS_CODE = "06.09.2025";
  const ACTIVATION_ISO = "2025-09-04T00:00:00+02:00";

  const GIFT_INFO = {date:"Datum wird euch pers√∂nlich verraten", start:"Startzeit nach Absprache", location:"Startpunkt: Wird am Vortag bekanntgegeben"};
  const DATA = [
    {headline:"Euer Geschenk", text:"√úberraschung! Ihr bekommt eine pers√∂nliche Schnitzeljagd ‚Äì liebevoll geplant von Familie Kley. Auf euch warten Erinnerungen, kleine R√§tsel und besondere Momente, die euch durch Orte eurer Geschichte f√ºhren. Und nat√ºrlich: Am Ende wartet ein kleiner Schatz, den ihr finden m√ºsst.", image:"images/wandern.jpg", alt:"Paar wandert auf moosigem Waldpfad"},
    {headline:"So funktioniert's", text:"Ihr bekommt rechtzeitig alle n√∂tigen Infos (Startpunkt, Uhrzeit, Hinweis zur Kleidung & kleine Tipps). Vor Ort startet ihr mit einem ersten Hinweis ‚Äì danach f√ºhrt euch jeder Fund zum n√§chsten. Keine Eile, es geht um euch und euren Tag.", image:"images/ablauf-pfeil.webp", alt:"Mit St√∂cken gelegter Pfeil auf einer Wiese"},
    {headline:"Wann & Wo", text:`Datum: ${GIFT_INFO.date}
Startzeit: ${GIFT_INFO.start}
${GIFT_INFO.location}

Wenn ihr m√∂gt, sagen wir euch vorab, ob ihr eher Sneaker oder schickere Schuhe einplanen solltet. üòâ`, image:"images/berge-wald.jpg", alt:"Pf√§lzerwald ‚Äì h√ºgelige Waldlandschaft im Dunst"},
    {headline:"Gru√üwort von Familie Kley", text:"Ihr zwei Lieben,

heute sagt ihr Ja ‚Äì zu einem Zuhause im Herzen des anderen. M√∂ge euer Alltag leicht sein, eure Gespr√§che ehrlich und euer Lachen laut. Bewahrt euch die kleinen Rituale, die euch jetzt schon so gut tun, und macht Platz f√ºr neues Gl√ºck.

Diese Schnitzeljagd haben wir mit ganz viel Liebe f√ºr euch zusammengestellt. Sie f√ºhrt euch an Orte, die nach euch klingen: nach Erinnerungen, nach dem Hier & Jetzt ‚Äì und ein St√ºck nach vorne.

Auf alles, was war. Auf alles, was kommt.
In Liebe,
Familie Kley", image:"images/familie-kley.jpg", alt:"Familie Kley ‚Äì Gruppenfoto", fit:"contain", objectPosition:"top center"},
    {headline:"Kontakt", text:"Falls ihr Fragen habt oder Hilfe braucht: Meldet euch einfach bei uns. (Kontakt teilen wir euch pers√∂nlich.) Viel Freude mit eurem Geschenk!"}
  ];

  const hero = document.getElementById('hero');
  const heroContent = document.getElementById('heroContent');
  const heroOverlay = document.getElementById('heroOverlay');
  const parallax = document.getElementById('parallax');
  const content = document.getElementById('content');
  const timeline = document.getElementById('timeline');

  function build(item, i, isLast){
    const li = document.createElement('li'); li.className='section';
    const imgClass = item.fit==='contain' ? 'contain' : '';
    const stylePos = item.objectPosition ? `style="object-position:${item.objectPosition}"` : '';
    li.innerHTML = `<span class="dot" aria-hidden="true"></span>${!isLast?'<span class="line" aria-hidden="true"></span>':''}
      <div class="fade-up"><h2>${item.headline}</h2>${item.image?`<img class="${imgClass}" alt="${item.alt||''}" src="${item.image}" ${stylePos}/>`:''}<p></p></div>`;
    const p = li.querySelector('p'); p.textContent=''; p.dataset.full = item.text || '';
    li.dataset.activated='0'; return li;
  }
  DATA.forEach((it,i)=> timeline.appendChild(build(it,i, i===DATA.length-1)));

  function typewriter(el){
    const full = el.dataset.full || ''; if(!full) return;
    let i=0; el.textContent=''; const id=setInterval(()=>{ el.textContent = full.slice(0, ++i); if(i>=full.length) clearInterval(id); }, 18);
  }
  const sections = document.querySelectorAll('.section');
  if('IntersectionObserver' in window){
    const io = new IntersectionObserver((ents)=>{
      ents.forEach(e=>{
        if(e.isIntersecting){
          const li=e.target; if(li.dataset.activated==='1') return;
          li.dataset.activated='1'; li.querySelector('.fade-up').classList.add('show'); typewriter(li.querySelector('p'));
        }
      });
    }, {threshold:.2, rootMargin:'0px 0px -10% 0px'});
    sections.forEach(s=> io.observe(s));
  } else { sections.forEach(s=>{ s.querySelector('.fade-up').classList.add('show'); typewriter(s.querySelector('p')); }); }

  document.getElementById('startBtn').addEventListener('click', ()=> content.scrollIntoView({behavior:'smooth', block:'start'}));

  (function(){
    let ticking=false, last=0, heroH = hero.offsetHeight;
    function onResize(){ heroH = hero.offsetHeight; }
    function update(){
      const y = last;
      if(y > heroH*0.1) parallax.style.display='block'; else parallax.style.display='none';
      const pY = Math.max(0, y - heroH*0.1);
      const offset = -pY * 0.16;
      const scale = 1.18 + Math.min(pY/2500, 0.20);
      parallax.style.transform = `translateY(${offset.toFixed(1)}px) scale(${scale.toFixed(3)})`;
      const t = Math.min(Math.max(y/heroH, 0), 1);
      heroContent.style.transform = `translateY(${(-18*t).toFixed(1)}px) scale(${(1-0.06*t).toFixed(3)})`;
      heroContent.style.opacity = (1-0.30*t).toFixed(3);
      heroOverlay.style.opacity = (1-0.15*t).toFixed(3);
      ticking=false;
    }
    function onScroll(){ last = window.scrollY||window.pageYOffset; if(!ticking){ requestAnimationFrame(update); ticking=true; } }
    window.addEventListener('scroll', onScroll, {passive:true});
    window.addEventListener('resize', ()=>{ onResize(); requestAnimationFrame(update); });
    requestAnimationFrame(update);
  })();

  (function(){
    const activation = new Date(ACTIVATION_ISO).getTime();
    const now = Date.now();
    const wasUnlocked = sessionStorage.getItem('gift_unlocked')==='1';
    const shouldLock = now >= activation && !wasUnlocked;

    const site = document.getElementById('site');
    const gate = document.getElementById('gate');
    const input = document.getElementById('codeInput');
    const btn = document.getElementById('unlockBtn');
    const err = document.getElementById('err');

    function openGate(){ gate.classList.remove('hidden'); site.style.visibility='hidden'; site.style.pointerEvents='none'; document.body.classList.add('lock'); }
    function closeGate(){ gate.classList.add('hidden'); site.style.visibility='visible'; site.style.pointerEvents=''; document.body.classList.remove('lock'); }
    function tryUnlock(){ const val=(input.value||'').trim(); if(val===ACCESS_CODE){ sessionStorage.setItem('gift_unlocked','1'); closeGate(); } else { err.textContent='Falscher Code. Bitte noch einmal versuchen.'; } }

    if(shouldLock){ openGate(); btn.addEventListener('click', tryUnlock); input.addEventListener('keydown', e=>{ if(e.key==='Enter') tryUnlock(); }); setTimeout(()=>input.focus(),50); }
    else { closeGate(); }
  })();
})();
</script>
</body>
</html>
